{% load static %}

<div id="productsContainer" class="products-container grid">
  {% for product in products %}
  <div class="product-card">
    <div class="product-img">
      {% if product.image %}
        <img src="{{ product.image.url }}" alt="{{ product.name }}">
      {% endif %}
    </div>
          <!-- CARD BODY -->
<div class="arrival-body text-center">
  <h6 class="arrival-title">{{ product.name }}</h6>
  <p class="arrival-author">by {{ product.author }}</p>

  <!-- PRICE + RATING + SALES (Column 1) -->
  <div class="details-row d-flex justify-content-between align-items-center mt-3">
    <div class="info-column text-start">
      <p class="price mb-1">${{ product.price }}</p>
      <div class="stars mb-1">
        <i class="bi bi-star-fill"></i>
        <i class="bi bi-star-fill"></i>
        <i class="bi bi-star-fill"></i>
        <i class="bi bi-star-fill"></i>
        <i class="bi bi-star"></i>
        <span class="rating-count">6</span>
      </div>
      <p class="sales mb-0">{{ product.sales }} Sales</p>
    </div>

  <!-- CART ICON (Column 2) -->
    <div class="cart-column">
      <a href="{% url 'main:add_to_cart' product.id %}" class="cart-link">
    <button class="cart-btn" data-template-id="{{ product.id }}">
        </button>
</a>
      <!-- <button class="cart-btn" onclick="location.href='{% url 'main:add_to_cart' product.id %}'">
        <img src="{% static 'images/cart-icon.png' %}" alt="Cart" class="cart-icon-img">
      </button> -->
    </div>


    <!-- LIVE PREVIEW BUTTON (Column 3) -->
    <div class="preview-column">
      <a href="#" class="btn preview-btn">
        Live Preview
      </a>
    </div>
  </div>
</div>  </div>
  {% empty %}
  <p class="text-center w-100 py-4 text-muted">No products found matching your filters.</p>
  {% endfor %}
</div>
    



